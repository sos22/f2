#ifndef ORERROR_TMPL__
#define ORERROR_TMPL__

#include "either.tmpl"

template <typename t> const fields::field &
orerror<t>::field() const {
    if (isfailure()) return "<failed:" + failure().field() + ">";
    else return "<" + fields::mk(success()) + ">"; }

template <typename t> const t
orerror<t>::flatten() const {
    if (isfailure()) return failure();
    else if (success().isfailure()) return success().failure();
    else return success().success(); }

#endif /* !ORERROR_TMPL__ */
